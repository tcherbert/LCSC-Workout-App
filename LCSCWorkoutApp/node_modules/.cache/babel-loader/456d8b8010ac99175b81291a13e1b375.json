{"ast":null,"code":"import { __awaiter, __generator } from \"tslib\";\nimport { w as writeTask } from './core-ca0488fc.js';\nimport { b as LIFECYCLE_WILL_LEAVE, L as LIFECYCLE_WILL_ENTER, a as LIFECYCLE_DID_ENTER, c as LIFECYCLE_DID_LEAVE } from './constants-3c3e1099.js';\n\nvar iosTransitionAnimation = function () {\n  return import('./ios.transition-071bd421.js');\n};\n\nvar mdTransitionAnimation = function () {\n  return import('./md.transition-15a81b08.js');\n};\n\nvar transition = function (opts) {\n  return new Promise(function (resolve, reject) {\n    writeTask(function () {\n      beforeTransition(opts);\n      runTransition(opts).then(function (result) {\n        if (result.animation) {\n          result.animation.destroy();\n        }\n\n        afterTransition(opts);\n        resolve(result);\n      }, function (error) {\n        afterTransition(opts);\n        reject(error);\n      });\n    });\n  });\n};\n\nvar beforeTransition = function (opts) {\n  var enteringEl = opts.enteringEl;\n  var leavingEl = opts.leavingEl;\n  setZIndex(enteringEl, leavingEl, opts.direction);\n\n  if (opts.showGoBack) {\n    enteringEl.classList.add('can-go-back');\n  } else {\n    enteringEl.classList.remove('can-go-back');\n  }\n\n  setPageHidden(enteringEl, false);\n\n  if (leavingEl) {\n    setPageHidden(leavingEl, false);\n  }\n};\n\nvar runTransition = function (opts) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var animationBuilder, ani;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          return [4\n          /*yield*/\n          , getAnimationBuilder(opts)];\n\n        case 1:\n          animationBuilder = _a.sent();\n          ani = animationBuilder ? animation(animationBuilder, opts) : noAnimation(opts);\n          return [2\n          /*return*/\n          , ani];\n      }\n    });\n  });\n};\n\nvar afterTransition = function (opts) {\n  var enteringEl = opts.enteringEl;\n  var leavingEl = opts.leavingEl;\n  enteringEl.classList.remove('ion-page-invisible');\n\n  if (leavingEl !== undefined) {\n    leavingEl.classList.remove('ion-page-invisible');\n  }\n};\n\nvar getAnimationBuilder = function (opts) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var getAnimation, _a;\n\n    return __generator(this, function (_b) {\n      switch (_b.label) {\n        case 0:\n          if (!opts.leavingEl || !opts.animated || opts.duration === 0) {\n            return [2\n            /*return*/\n            , undefined];\n          }\n\n          if (opts.animationBuilder) {\n            return [2\n            /*return*/\n            , opts.animationBuilder];\n          }\n\n          if (!(opts.mode === 'ios')) return [3\n          /*break*/\n          , 2];\n          return [4\n          /*yield*/\n          , iosTransitionAnimation()];\n\n        case 1:\n          _a = _b.sent().iosTransitionAnimation;\n          return [3\n          /*break*/\n          , 4];\n\n        case 2:\n          return [4\n          /*yield*/\n          , mdTransitionAnimation()];\n\n        case 3:\n          _a = _b.sent().mdTransitionAnimation;\n          _b.label = 4;\n\n        case 4:\n          getAnimation = _a;\n          return [2\n          /*return*/\n          , getAnimation];\n      }\n    });\n  });\n};\n\nvar animation = function (animationBuilder, opts) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var trans, mod, err_1, didComplete;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          return [4\n          /*yield*/\n          , waitForReady(opts, true)];\n\n        case 1:\n          _a.sent();\n\n          _a.label = 2;\n\n        case 2:\n          _a.trys.push([2, 5,, 6]);\n\n          return [4\n          /*yield*/\n          , import('./index-69c37885.js')];\n\n        case 3:\n          mod = _a.sent();\n          return [4\n          /*yield*/\n          , mod.create(animationBuilder, opts.baseEl, opts)];\n\n        case 4:\n          trans = _a.sent();\n          return [3\n          /*break*/\n          , 6];\n\n        case 5:\n          err_1 = _a.sent();\n          trans = animationBuilder(opts.baseEl, opts);\n          return [3\n          /*break*/\n          , 6];\n\n        case 6:\n          fireWillEvents(opts.enteringEl, opts.leavingEl);\n          return [4\n          /*yield*/\n          , playTransition(trans, opts)];\n\n        case 7:\n          didComplete = _a.sent();\n\n          if (opts.progressCallback) {\n            opts.progressCallback(undefined);\n          }\n\n          if (didComplete) {\n            fireDidEvents(opts.enteringEl, opts.leavingEl);\n          }\n\n          return [2\n          /*return*/\n          , {\n            hasCompleted: didComplete,\n            animation: trans\n          }];\n      }\n    });\n  });\n};\n\nvar noAnimation = function (opts) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var enteringEl, leavingEl;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          enteringEl = opts.enteringEl;\n          leavingEl = opts.leavingEl;\n          return [4\n          /*yield*/\n          , waitForReady(opts, false)];\n\n        case 1:\n          _a.sent();\n\n          fireWillEvents(enteringEl, leavingEl);\n          fireDidEvents(enteringEl, leavingEl);\n          return [2\n          /*return*/\n          , {\n            hasCompleted: true\n          }];\n      }\n    });\n  });\n};\n\nvar waitForReady = function (opts, defaultDeep) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var deep, promises;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          deep = opts.deepWait !== undefined ? opts.deepWait : defaultDeep;\n          promises = deep ? [deepReady(opts.enteringEl), deepReady(opts.leavingEl)] : [shallowReady(opts.enteringEl), shallowReady(opts.leavingEl)];\n          return [4\n          /*yield*/\n          , Promise.all(promises)];\n\n        case 1:\n          _a.sent();\n\n          return [4\n          /*yield*/\n          , notifyViewReady(opts.viewIsReady, opts.enteringEl)];\n\n        case 2:\n          _a.sent();\n\n          return [2\n          /*return*/\n          ];\n      }\n    });\n  });\n};\n\nvar notifyViewReady = function (viewIsReady, enteringEl) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          if (!viewIsReady) return [3\n          /*break*/\n          , 2];\n          return [4\n          /*yield*/\n          , viewIsReady(enteringEl)];\n\n        case 1:\n          _a.sent();\n\n          _a.label = 2;\n\n        case 2:\n          return [2\n          /*return*/\n          ];\n      }\n    });\n  });\n};\n\nvar playTransition = function (trans, opts) {\n  var progressCallback = opts.progressCallback; // TODO: Remove AnimationBuilder\n\n  var promise = new Promise(function (resolve) {\n    trans.onFinish(function (currentStep) {\n      if (typeof currentStep === 'number') {\n        resolve(currentStep === 1);\n      } else if (trans.hasCompleted !== undefined) {\n        resolve(trans.hasCompleted);\n      }\n    });\n  }); // cool, let's do this, start the transition\n\n  if (progressCallback) {\n    // this is a swipe to go back, just get the transition progress ready\n    // kick off the swipe animation start\n    trans.progressStart(true);\n    progressCallback(trans);\n  } else {\n    // only the top level transition should actually start \"play\"\n    // kick it off and let it play through\n    // ******** DOM WRITE ****************\n    trans.play();\n  } // create a callback for when the animation is done\n\n\n  return promise;\n};\n\nvar fireWillEvents = function (enteringEl, leavingEl) {\n  lifecycle(leavingEl, LIFECYCLE_WILL_LEAVE);\n  lifecycle(enteringEl, LIFECYCLE_WILL_ENTER);\n};\n\nvar fireDidEvents = function (enteringEl, leavingEl) {\n  lifecycle(enteringEl, LIFECYCLE_DID_ENTER);\n  lifecycle(leavingEl, LIFECYCLE_DID_LEAVE);\n};\n\nvar lifecycle = function (el, eventName) {\n  if (el) {\n    var ev = new CustomEvent(eventName, {\n      bubbles: false,\n      cancelable: false\n    });\n    el.dispatchEvent(ev);\n  }\n};\n\nvar shallowReady = function (el) {\n  if (el && el.componentOnReady) {\n    return el.componentOnReady();\n  }\n\n  return Promise.resolve();\n};\n\nvar deepReady = function (el) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var element, stencilEl;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          element = el;\n          if (!element) return [3\n          /*break*/\n          , 4];\n          if (!(element.componentOnReady != null)) return [3\n          /*break*/\n          , 2];\n          return [4\n          /*yield*/\n          , element.componentOnReady()];\n\n        case 1:\n          stencilEl = _a.sent();\n\n          if (stencilEl != null) {\n            return [2\n            /*return*/\n            ];\n          }\n\n          _a.label = 2;\n\n        case 2:\n          return [4\n          /*yield*/\n          , Promise.all(Array.from(element.children).map(deepReady))];\n\n        case 3:\n          _a.sent();\n\n          _a.label = 4;\n\n        case 4:\n          return [2\n          /*return*/\n          ];\n      }\n    });\n  });\n};\n\nvar setPageHidden = function (el, hidden) {\n  if (hidden) {\n    el.setAttribute('aria-hidden', 'true');\n    el.classList.add('ion-page-hidden');\n  } else {\n    el.hidden = false;\n    el.removeAttribute('aria-hidden');\n    el.classList.remove('ion-page-hidden');\n  }\n};\n\nvar setZIndex = function (enteringEl, leavingEl, direction) {\n  if (enteringEl !== undefined) {\n    enteringEl.style.zIndex = direction === 'back' ? '99' : '101';\n  }\n\n  if (leavingEl !== undefined) {\n    leavingEl.style.zIndex = '100';\n  }\n};\n\nvar getIonPageElement = function (element) {\n  if (element.classList.contains('ion-page')) {\n    return element;\n  }\n\n  var ionPage = element.querySelector(':scope > .ion-page, :scope > ion-nav, :scope > ion-tabs');\n\n  if (ionPage) {\n    return ionPage;\n  } // idk, return the original element so at least something animates and we don't have a null pointer\n\n\n  return element;\n};\n\nexport { deepReady as d, getIonPageElement as g, lifecycle as l, setPageHidden as s, transition as t };","map":{"version":3,"sources":["/Users/timherbert/OneDrive/school/cs480/LCSCWorkoutApp/node_modules/@ionic/core/dist/esm-es5/index-6826f2f6.js"],"names":["__awaiter","__generator","w","writeTask","b","LIFECYCLE_WILL_LEAVE","L","LIFECYCLE_WILL_ENTER","a","LIFECYCLE_DID_ENTER","c","LIFECYCLE_DID_LEAVE","iosTransitionAnimation","mdTransitionAnimation","transition","opts","Promise","resolve","reject","beforeTransition","runTransition","then","result","animation","destroy","afterTransition","error","enteringEl","leavingEl","setZIndex","direction","showGoBack","classList","add","remove","setPageHidden","animationBuilder","ani","_a","label","getAnimationBuilder","sent","noAnimation","undefined","getAnimation","_b","animated","duration","mode","trans","mod","err_1","didComplete","waitForReady","trys","push","create","baseEl","fireWillEvents","playTransition","progressCallback","fireDidEvents","hasCompleted","defaultDeep","deep","promises","deepWait","deepReady","shallowReady","all","notifyViewReady","viewIsReady","promise","onFinish","currentStep","progressStart","play","lifecycle","el","eventName","ev","CustomEvent","bubbles","cancelable","dispatchEvent","componentOnReady","element","stencilEl","Array","from","children","map","hidden","setAttribute","removeAttribute","style","zIndex","getIonPageElement","contains","ionPage","querySelector","d","g","l","s","t"],"mappings":"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","sourcesContent":["import { __awaiter, __generator } from \"tslib\";\nimport { w as writeTask } from './core-ca0488fc.js';\nimport { b as LIFECYCLE_WILL_LEAVE, L as LIFECYCLE_WILL_ENTER, a as LIFECYCLE_DID_ENTER, c as LIFECYCLE_DID_LEAVE } from './constants-3c3e1099.js';\nvar iosTransitionAnimation = function () { return import('./ios.transition-071bd421.js'); };\nvar mdTransitionAnimation = function () { return import('./md.transition-15a81b08.js'); };\nvar transition = function (opts) {\n    return new Promise(function (resolve, reject) {\n        writeTask(function () {\n            beforeTransition(opts);\n            runTransition(opts).then(function (result) {\n                if (result.animation) {\n                    result.animation.destroy();\n                }\n                afterTransition(opts);\n                resolve(result);\n            }, function (error) {\n                afterTransition(opts);\n                reject(error);\n            });\n        });\n    });\n};\nvar beforeTransition = function (opts) {\n    var enteringEl = opts.enteringEl;\n    var leavingEl = opts.leavingEl;\n    setZIndex(enteringEl, leavingEl, opts.direction);\n    if (opts.showGoBack) {\n        enteringEl.classList.add('can-go-back');\n    }\n    else {\n        enteringEl.classList.remove('can-go-back');\n    }\n    setPageHidden(enteringEl, false);\n    if (leavingEl) {\n        setPageHidden(leavingEl, false);\n    }\n};\nvar runTransition = function (opts) { return __awaiter(void 0, void 0, void 0, function () {\n    var animationBuilder, ani;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: return [4 /*yield*/, getAnimationBuilder(opts)];\n            case 1:\n                animationBuilder = _a.sent();\n                ani = (animationBuilder)\n                    ? animation(animationBuilder, opts)\n                    : noAnimation(opts);\n                return [2 /*return*/, ani];\n        }\n    });\n}); };\nvar afterTransition = function (opts) {\n    var enteringEl = opts.enteringEl;\n    var leavingEl = opts.leavingEl;\n    enteringEl.classList.remove('ion-page-invisible');\n    if (leavingEl !== undefined) {\n        leavingEl.classList.remove('ion-page-invisible');\n    }\n};\nvar getAnimationBuilder = function (opts) { return __awaiter(void 0, void 0, void 0, function () {\n    var getAnimation, _a;\n    return __generator(this, function (_b) {\n        switch (_b.label) {\n            case 0:\n                if (!opts.leavingEl || !opts.animated || opts.duration === 0) {\n                    return [2 /*return*/, undefined];\n                }\n                if (opts.animationBuilder) {\n                    return [2 /*return*/, opts.animationBuilder];\n                }\n                if (!(opts.mode === 'ios')) return [3 /*break*/, 2];\n                return [4 /*yield*/, iosTransitionAnimation()];\n            case 1:\n                _a = (_b.sent()).iosTransitionAnimation;\n                return [3 /*break*/, 4];\n            case 2: return [4 /*yield*/, mdTransitionAnimation()];\n            case 3:\n                _a = (_b.sent()).mdTransitionAnimation;\n                _b.label = 4;\n            case 4:\n                getAnimation = _a;\n                return [2 /*return*/, getAnimation];\n        }\n    });\n}); };\nvar animation = function (animationBuilder, opts) { return __awaiter(void 0, void 0, void 0, function () {\n    var trans, mod, err_1, didComplete;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: return [4 /*yield*/, waitForReady(opts, true)];\n            case 1:\n                _a.sent();\n                _a.label = 2;\n            case 2:\n                _a.trys.push([2, 5, , 6]);\n                return [4 /*yield*/, import('./index-69c37885.js')];\n            case 3:\n                mod = _a.sent();\n                return [4 /*yield*/, mod.create(animationBuilder, opts.baseEl, opts)];\n            case 4:\n                trans = _a.sent();\n                return [3 /*break*/, 6];\n            case 5:\n                err_1 = _a.sent();\n                trans = animationBuilder(opts.baseEl, opts);\n                return [3 /*break*/, 6];\n            case 6:\n                fireWillEvents(opts.enteringEl, opts.leavingEl);\n                return [4 /*yield*/, playTransition(trans, opts)];\n            case 7:\n                didComplete = _a.sent();\n                if (opts.progressCallback) {\n                    opts.progressCallback(undefined);\n                }\n                if (didComplete) {\n                    fireDidEvents(opts.enteringEl, opts.leavingEl);\n                }\n                return [2 /*return*/, {\n                        hasCompleted: didComplete,\n                        animation: trans\n                    }];\n        }\n    });\n}); };\nvar noAnimation = function (opts) { return __awaiter(void 0, void 0, void 0, function () {\n    var enteringEl, leavingEl;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                enteringEl = opts.enteringEl;\n                leavingEl = opts.leavingEl;\n                return [4 /*yield*/, waitForReady(opts, false)];\n            case 1:\n                _a.sent();\n                fireWillEvents(enteringEl, leavingEl);\n                fireDidEvents(enteringEl, leavingEl);\n                return [2 /*return*/, {\n                        hasCompleted: true\n                    }];\n        }\n    });\n}); };\nvar waitForReady = function (opts, defaultDeep) { return __awaiter(void 0, void 0, void 0, function () {\n    var deep, promises;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                deep = opts.deepWait !== undefined ? opts.deepWait : defaultDeep;\n                promises = deep ? [\n                    deepReady(opts.enteringEl),\n                    deepReady(opts.leavingEl),\n                ] : [\n                    shallowReady(opts.enteringEl),\n                    shallowReady(opts.leavingEl),\n                ];\n                return [4 /*yield*/, Promise.all(promises)];\n            case 1:\n                _a.sent();\n                return [4 /*yield*/, notifyViewReady(opts.viewIsReady, opts.enteringEl)];\n            case 2:\n                _a.sent();\n                return [2 /*return*/];\n        }\n    });\n}); };\nvar notifyViewReady = function (viewIsReady, enteringEl) { return __awaiter(void 0, void 0, void 0, function () {\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (!viewIsReady) return [3 /*break*/, 2];\n                return [4 /*yield*/, viewIsReady(enteringEl)];\n            case 1:\n                _a.sent();\n                _a.label = 2;\n            case 2: return [2 /*return*/];\n        }\n    });\n}); };\nvar playTransition = function (trans, opts) {\n    var progressCallback = opts.progressCallback;\n    // TODO: Remove AnimationBuilder\n    var promise = new Promise(function (resolve) {\n        trans.onFinish(function (currentStep) {\n            if (typeof currentStep === 'number') {\n                resolve(currentStep === 1);\n            }\n            else if (trans.hasCompleted !== undefined) {\n                resolve(trans.hasCompleted);\n            }\n        });\n    });\n    // cool, let's do this, start the transition\n    if (progressCallback) {\n        // this is a swipe to go back, just get the transition progress ready\n        // kick off the swipe animation start\n        trans.progressStart(true);\n        progressCallback(trans);\n    }\n    else {\n        // only the top level transition should actually start \"play\"\n        // kick it off and let it play through\n        // ******** DOM WRITE ****************\n        trans.play();\n    }\n    // create a callback for when the animation is done\n    return promise;\n};\nvar fireWillEvents = function (enteringEl, leavingEl) {\n    lifecycle(leavingEl, LIFECYCLE_WILL_LEAVE);\n    lifecycle(enteringEl, LIFECYCLE_WILL_ENTER);\n};\nvar fireDidEvents = function (enteringEl, leavingEl) {\n    lifecycle(enteringEl, LIFECYCLE_DID_ENTER);\n    lifecycle(leavingEl, LIFECYCLE_DID_LEAVE);\n};\nvar lifecycle = function (el, eventName) {\n    if (el) {\n        var ev = new CustomEvent(eventName, {\n            bubbles: false,\n            cancelable: false,\n        });\n        el.dispatchEvent(ev);\n    }\n};\nvar shallowReady = function (el) {\n    if (el && el.componentOnReady) {\n        return el.componentOnReady();\n    }\n    return Promise.resolve();\n};\nvar deepReady = function (el) { return __awaiter(void 0, void 0, void 0, function () {\n    var element, stencilEl;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                element = el;\n                if (!element) return [3 /*break*/, 4];\n                if (!(element.componentOnReady != null)) return [3 /*break*/, 2];\n                return [4 /*yield*/, element.componentOnReady()];\n            case 1:\n                stencilEl = _a.sent();\n                if (stencilEl != null) {\n                    return [2 /*return*/];\n                }\n                _a.label = 2;\n            case 2: return [4 /*yield*/, Promise.all(Array.from(element.children).map(deepReady))];\n            case 3:\n                _a.sent();\n                _a.label = 4;\n            case 4: return [2 /*return*/];\n        }\n    });\n}); };\nvar setPageHidden = function (el, hidden) {\n    if (hidden) {\n        el.setAttribute('aria-hidden', 'true');\n        el.classList.add('ion-page-hidden');\n    }\n    else {\n        el.hidden = false;\n        el.removeAttribute('aria-hidden');\n        el.classList.remove('ion-page-hidden');\n    }\n};\nvar setZIndex = function (enteringEl, leavingEl, direction) {\n    if (enteringEl !== undefined) {\n        enteringEl.style.zIndex = (direction === 'back')\n            ? '99'\n            : '101';\n    }\n    if (leavingEl !== undefined) {\n        leavingEl.style.zIndex = '100';\n    }\n};\nvar getIonPageElement = function (element) {\n    if (element.classList.contains('ion-page')) {\n        return element;\n    }\n    var ionPage = element.querySelector(':scope > .ion-page, :scope > ion-nav, :scope > ion-tabs');\n    if (ionPage) {\n        return ionPage;\n    }\n    // idk, return the original element so at least something animates and we don't have a null pointer\n    return element;\n};\nexport { deepReady as d, getIonPageElement as g, lifecycle as l, setPageHidden as s, transition as t };\n"]},"metadata":{},"sourceType":"module"}